<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio Data</title>
    <link rel="stylesheet" href="../assets/css/Bio.css">
</head>
<!-- This is bio  -->

<body>
    <section>
        <div class="container">

            <header class="header">

                <h1 id="title">BIO-DATA FORM</h1>
                <p id="description">
                    Kindly Fill Out The Form Below.
                </p>

            </header>

            <form id="survey-form">

                <div class="form-groupings">
                    <label for="name" id="name-label">
                        First Name
                    </label>
                    <input type="text" id="First_Name" name="name" placeholder="Enter your name" class="form-columns"
                        required />
                </div>

                <div class="form-groupings">
                    <label for="name" id="name-label">
                        Last Name
                    </label>
                    <input type="text" id="Last_Name" name="name" placeholder="Enter your name" class="form-columns"
                        required />
                </div>



                <div class="form-groupings">
                    <label for="number" id="number-label">
                        DOB
                    </label>
                    <input type="date" id="DOB" name="age" class="form-columns" min="18" max="90" id="number"
                        placeholder="Enter your age" />
                </div>

                <div class="form-groupings">
                    <label for="telephone" id="tel-label">
                        Expert_in </label>
                    <input type="tel" name="phone number" placeholder="Skills . . . " class="form-columns"
                        id="Expect_in" required />
                </div>

                <div class="form-groupings">
                    <label for="Phone" id="tel-label">
                        Enter Your Phone Number
                    </label>
                    <input type="number" name="phone number" placeholder="Enter your phone number here"
                        class="form-columns" id="Phone" maxlength="10" minlenght="10" required />
                </div>

                <div class="form-groupings">
                    <label for="telephone" id="tel-label">
                        Enter Your Aadhar Number

                    </label>
                    <input type="tel" name="Aadhar_number" placeholder="Enter Your Aadhar Number" class="form-columns"
                        id="Aadhar_number" maxlength="12" minlenght="12" required />
                </div>

                <div class="form-groupings">
                    <p>Your Occupation</p>
                    <select id="dropdown" name="occupation" class="form-columns" required>
                        <option disabled selected value>Select current role
                        </option>
                        <option value="student">
                            Student
                        </option>
                        <option value="unemployed">
                            Unemployed
                        </option>
                        <option value="nysc">
                            NYSC
                        </option>
                        <option value="civil servant">
                            Civil Servant
                        </option>
                        <option value="Prefer not to say">
                            Prefer not to say
                        </option>
                        <option value="others">
                            Others
                        </option>
                    </select>
                </div>


                <div class="form-groupings">
                    <p> Educational Background<span class="clue"> (check all that apply)</span>
                        <label>
                            <input type="checkbox" class="checkbox-input" value="primary-cert" name="education"
                                id="PrimarySchool" />Primary School Cert
                        </label>

                        <label>
                            <input type="checkbox" class="checkbox-input" value="secondary-cert" name="education"
                                id="Secondary_School" />Secondary School Cert
                        </label>
                        <label>
                            <input type="checkbox" class="checkbox-input" value="B.Sc" id="B.Sc" name="education" />B.Sc
                        </label>

                        <label>
                            <input type="checkbox" class="checkbox-input" value="M.Sc" id="M.Sc" name="education" />M.Sc
                        </label>

                        <label>
                            <input type="checkbox" class="checkbox-input" value="Ph.D" id="Ph.D" name="education" />Ph.D
                        </label>

                        <label>
                            <input type="checkbox" class="checkbox-input" value="Others" id="others"
                                name="education" />Others
                        </label>

                </div>
                <div>
                    <label for="file">
                        Upload your expirience certificate or any certificate
                    </label>
                    <input type="file" id="file" name="file" required />


                </div>



                <div class="form-groupings">
                    <p>Address</p>
                    <textarea class="textarea-input" id="Address" name="Address" placeholder="Enter your address"
                        required></textarea>
                </div>

                <div class="form-groupings">
                    <p>Something about you</p>
                    <textarea class="textarea-input" id="comments" name="comments"
                        placeholder="Enter Something about you..."></textarea>
                </div>



                <div class="form-groupings">
                    <button type="submit" id="submit" class="submit-button">Submit
                    </button>
                </div>

            </form>

        </div>
    </section>
    <script>


        let url = location.search;
        let urlParams = new URLSearchParams(url);
        console.log(urlParams)
        let type = urlParams.get("type");
        console.log(type);
        let Email;
        if (type == "owner") {
            let register = JSON.parse(localStorage.getItem("register"));
            // console.log(register)
            Email = register[register.length - 1]["Email"]
            console.log(Email)
        }

        else {
            let workerRegister = JSON.parse(localStorage.getItem("workerRegister"));
            // console.log(register)
            Email = workerRegister[workerRegister.length - 1]["Email"]
            console.log(Email)
        }





        let bioFn = document.getElementById("survey-form");
        bioFn.addEventListener("submit", (event) => {
            event.preventDefault();
            let arr = [];
            if (localStorage.getItem("BIO") != null) {
                arr = JSON.parse(localStorage.getItem("BIO"))
            }

            let FN = document.getElementById("First_Name").value;
            let LN = document.getElementById("Last_Name").value;
            let DOB = document.getElementById("DOB").value;
            let Address = document.getElementById("Address").value;
            // let Education = document.getElementById("Education").value;
            let Current_occupation = document.getElementById("dropdown").value;
            let Expect_in = document.getElementById("Expect_in").value;
            let Aadhar_number = document.getElementById("Aadhar_number").value;
            let Phone = document.getElementById("Phone").value;
            let file = document.getElementById("file").value;
            let PrimarySchool = document.getElementById("PrimarySchool");
            let Secondary_School = document.getElementById("Secondary_School");
            // let NCE = document.getElementById("NCE");
            let others = document.getElementById("others");
            // let HND = document.getElementById("HND");
            let BSc = document.getElementById("B.Sc");
            let MSc = document.getElementById("M.Sc");
            let Phd = document.getElementById("Ph.D")
            let Education = [];

            if (PrimarySchool.checked == true) {
                Education.push("PrimarySchool")
            }

            if (Secondary_School.checked == true) {
                Education.push("Secondary_School")
            }

            // if (NCE.checked == true) {
            //     Education.push("NCE")
            // }

            if (others.checked == true) {
                Education.push("ND")
            }


            // if (HND.checked == true) {
            //     Education.push("HND")
            // }


            if (BSc.checked == true) {
                Education.push("B.Sc")
            }


            if (MSc.checked == true) {
                Education.push("M.Sc")
            }


            if (Phd.checked == true) {
                Education.push("Ph.D")
            }


            if (Education.length == 0) {
                return alert("Select atleast one education")
            }


            console.log(Education);






            let bio = {
                Email,
                FN,
                LN,
                DOB,
                Address,
                Education,
                Current_occupation,
                Expect_in,
                Aadhar_number,
                Phone
            }

            arr.push(bio);
            let str = JSON.stringify(arr);
            localStorage.setItem("BIO", str);



            if (type == "owner") {
                window.location.href = "ownerhome.html?from=register&&type=owner";
            }
            else {
                window.location.href = "workerhome.html?from=register&&type=worker";

            }


        });










    </script>
</body>

</html>

</html>